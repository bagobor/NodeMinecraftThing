<html>

<head>
	<title>WebGL Game</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

  <script src="/browserify.js"></script>
  <script>
  var ENGINE = require('./engine.js').createEngine(require('./client.js'), '$SESSION_TOKEN'); 
  </script>
  
	<link rel=StyleSheet href="style.css" type="text/css">
</head>

<body id="docBody">

<div id="loginPane" style="display:none;" align=center>
  <div class=loginBubble>
    Select your character:<br/>
    <div id="loginPlayers"></div>
    <input type="button" id="loginButton" value="Login">
    <input type="button" id="loginCreate" value="Create">
    <input type="button" id="loginDelete" value="Delete">
  </div>
</div>

<div id="createPane" style="display:none;" align=center>
  <div class=loginBubble>
    <form id="createForm">
      Name: <input id="playerName" name="player_name"><br/>
      Class: 
        <select id="playerClass" name="class">
          <option value="pudlian">Pudlian</option>
          <option value="cultist">Cultist</option>
        </select><br/>
      Favorite Color:
        <select id="playerColor" name="color">
          <option value="red">Red</option>
        </select><br/>
    </form>
    <input type="button" id="createSubmit" value="Create Character"><br/>
    <div id="createError"></div>
  </div>
</div>


<div id="progressPane" style="display:none;" align=center>
  <div class="loginBubble" id="progressBar">
  </div>
</div>

<div id="gamePane" style="display:none;">
  <canvas id="renderCanvas" style="position:absolute; top:0px; left:0px;"></canvas>
  <div id="uiPane" style="position:absolute; bottom:0px; left:0px;">
    <div id="uiChatLog" align="left" style="overflow-y:auto;overflow-x:hidden;height:200px;width:500px;background-color:rgba(255,255,255,0.5);"> </div> <br/>
    <input id="uiChatBox" type="text" value="" size="128" style="display:none; width:500px; "/>
  </div>
</div>

<div id="errorPane" style="display:none; background-color:red; color:black;">
  <h1>
    <tt> 
      The application has crashed! 
      <br/> Reason: <div id="errorReason"></div> 
    </tt>
  </h1>
</div>

<div id="noGLPane" style="display:none;font-family:Arial, Helvetica, sans-serif;">
  <div align=center>
    <h1>Sorry :(</h1>
    <h1>Your browser does not support WebGL</h1>
    <h2>Here is a quick video of what you are missing:</h2>
    <div id="videoItem"></div>
    <h2>To fix this problem, update your browser and video drivers to the latest version:</h2>
  </div>
  <div>
    <div style="float:left;position:absolute;right:50%;margin-right:25px;">
      <h3>Browsers that support WebGL:</h3>
      <ul>
        <li><a href=http://www.google.com/chrome>Google Chrome 12+ (Recommended)</a></li>
        <li><a href=http://www.mozilla.org/firefox/>Mozilla Firefox 4+</a></li>
        <li><a href=http://www.opera.com/>Opera 11+</a></li>
        <li><a href=http://www.apple.com/safari/>Apple Safari (for OSX 10.6 and above)</a></li>
      </ul>
    </div>
    <div style="float:left;position:absolute;left:50%;margin-left:25px;">
      <h3>Information on how to update your drivers:</h3>
      <ul>
        <li> <a href="http://www.google.com/support/chrome/bin/answer.py?answer=1202946">Walk through for Windows 7 and Mac OS</a> </li>
        <li> <a href="http://support.intel.com/support/graphics/">Intel drivers</a> </li>
        <li> <a href="http://www.nvidia.com/content/drivers/drivers.asp">NVidia drivers</a> </li>
        <li> <a href="http://ati.amd.com/support/driver.html">ATi/AMD drivers</a> </li>
      </ul>
    </div>
    <div style="position:relative;top:200px;left:50%;margin-left:-300px;">
      <h3>Tips for Linux users:</h3>
      <ul>
        <li>Chrome and Firefox 4.0 are the only two Linux browsers that support WebGL</li>
        <li>Run Chrome with the flag <tt>--ignore-gpu-blacklist</tt></li>
        <li>For Firefox 4.0, try the <a href='http://www.silicongadget.com/guides/internet-guides/activate-webgl-support-on-firefox-4/2126/'>following tutorial</a></li>
        <li>Make sure to update your video drivers and browser!</li>
      </ul>
    </div>
  </div>
</div>

</body>
</html>
